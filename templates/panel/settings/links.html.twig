{% extends 'panel/core/base.html.twig' %}

{% block nextTitle %} - Panel | Ustawienia{% endblock %}

{% block body %}
	<div class="container-fluid">
		
		<div class="d-sm-flex align-items-center justify-content-between mb-4">
			<h1 class="h3 mb-0 text-gray-800">Ustawienia - Linki</h1>
		</div>
		
		<div class="row">
			<div class="col-12 col-md-10 offset-md-1 col-xl-8 offset-xl-2">
				<div class="card card-body mb-3 text-right">
					<div class="alert d-none text-center" id="alert"></div>
					
					<div class="form-group">
						<button class="btn btn-primary" id="btnSave"><i class="fas fa-save"></i> Zapisz</button>
					</div>
				</div>
				
				<div class="row">
					<div class="col-12 col-md-6 mb-3">
						<div class="card card-body">
							<h4><i class="fas fa-plus"></i> Dodawanie linku</h4>
							<hr>

							<div class="alert d-none" id="alert01"></div>
							
							<div class="form-group">
								<label for="inp_icon">Podaj ikonę:</label>
								<input type="text" id="inp_icon" class="form-control" value="">
							</div>
							
							<div class="form-group">
								<label for="inp_url">Podaj URL:</label>
								<input type="text" id="inp_url" class="form-control" value="">
							</div>

							<div class="form-group text-right">
								<button class="btn btn-primary" id="btnAdd"><i class="fas fa-plus"></i> Dodaj</button>
							</div>
							
						</div>
					</div>
					<div class="col-12 col-md-6 mb-3">
						<div class="card card-body">
							<h4><i class="fas fa-list"></i> Lista linków</h4>
							<hr>
							
							<div class="alert d-none" id="alert02"></div>
							
							<div>
								<table class="table table-hover table-striped">
									<thead>
										<tr>
											<th>Ikona</th>
											<th>Link</th>
											<th>Opcje</th>
										</tr>
									</thead>
								<tbody id="linksList"></tbody>
							</table>
						</div>
						
					</div>
				</div>
			</div>
		</div>
	</div>
	
</div>

<div class="d-none">
	<input type="hidden" id="CSRF_TOKEN" value="{{ csrf_token('linksListUpdate') }}"/>
</div>

{% endblock %}

{% block javascripts %}
<script src="/assets/js/panel/utils.js"></script>
<script src="/assets/js/panel/settings.links.js"></script>

<script>
	{% for link in linksList %}
		items.push({
			id: {{ link['id'] }},
			icon: "{{ link['icon'] }}",
			url: "{{ link['url'] }}",
		});
	{% endfor %}
</script>
{% endblock %}