{% extends 'panel/core/base.html.twig' %}

{% block nextTitle %} - Panel | Dodaj artykuł{% endblock %}

{% block body %}
	<div class="container-fluid">
		
		<div class="d-sm-flex align-items-center justify-content-between mb-4">
			<h1 class="h3 mb-0 text-gray-800">Statystyki artykułu - #{{ article.getId() }}</h1>
		</div>
		
		<div class="row">

			<div class="col-12 col-lg-8 d-flex align-items-stretch">
				<div class="card card-body">
					<div class="chart-area">
							<canvas id="viewsPerMonth"></canvas>
						</div>
				</div>
			</div>
			<div class="col-12 col-lg-4 d-flex align-items-stretch">
				<div class="card card-body">
					<legend><i class="fas fa-info"></i> Informacje podstawowe</legend>
					<hr />

					<div class="row text-left ml-1 mb-1">
						<div class="col-6">Status:</div>
						<div class="col-6">
							<strong>{{ article.getStatusName() }}</strong>
						</div>
					</div>

					<div class="row text-left ml-1 mb-1">
						<div class="col-6">Tytuł:</div>
						<div class="col-6">
							<strong>{{ article.getTitle() }}</strong>
						</div>
					</div>

					<div class="row text-left ml-1 mb-1">
						<div class="col-6">Krótki opis:</div>
						<div class="col-6">
							<strong>{{ article.getDescriptionShort() }}</strong>
						</div>
					</div>


					<div class="row">
						<div class="col-12 col-sm-6">
							<a href="{{ path('panel_article_edit', {id: article.getId()}) }}">
								<button class="btn btn-primary w-100"><i class="fas fa-edit"></i> Edytuj</button>
							</a>
						</div>
						<div class="col-12 col-sm-6">
						</div>
					</div>

					
				</div>
			</div>

		</div>
	</div>
{% endblock %}

{% block javascripts %}
	<script src="/assets/js/panel/article.stats.js"></script>
	<script src="/assets/js/chart.min.js" charset="utf-8"></script>
	<script charset="UTF-8">
		{% for k, v in viewsPerMonth %}
			viewsPerMonth['{{ k - 1}}'] = {{ v }};
		{% endfor %}
	</script>
{% endblock %}